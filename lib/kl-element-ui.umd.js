(function(f,E){typeof exports=="object"&&typeof module!="undefined"?E(exports,require("vue"),require("lodash"),require("@kenote/common"),require("rule-judgment"),require("element-ui"),require("vue-router"),require("js-yaml"),require("nunjucks")):typeof define=="function"&&define.amd?define(["exports","vue","lodash","@kenote/common","rule-judgment","element-ui","vue-router","js-yaml","nunjucks"],E):(f=typeof globalThis!="undefined"?globalThis:f||self,E(f["kl-element-ui"]={},f.Vue,f.lodash,f["@kenote/common"],f["rule-judgment"],f["element-ui"],null,f["js-yaml"],f.nunjucks))})(this,function(f,E,c,K,he,X,Ft,ve,ye){"use strict";function A(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var w=A(E),N=A(he),I=A(ve),me=A(ye);/**
  * vue-class-component v7.2.6
  * (c) 2015-present Evan You
  * @license MIT
  */function k(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?k=function(t){return typeof t}:k=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},k(e)}function ge(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function we(e){return be(e)||$e(e)||De()}function be(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}function $e(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}function De(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function Ce(){return typeof Reflect!="undefined"&&Reflect.defineMetadata&&Reflect.getOwnMetadataKeys}function Se(e,t){z(e,t),Object.getOwnPropertyNames(t.prototype).forEach(function(r){z(e.prototype,t.prototype,r)}),Object.getOwnPropertyNames(t).forEach(function(r){z(e,t,r)})}function z(e,t,r){var n=r?Reflect.getOwnMetadataKeys(t,r):Reflect.getOwnMetadataKeys(t);n.forEach(function(a){var i=r?Reflect.getOwnMetadata(a,t,r):Reflect.getOwnMetadata(a,t);r?Reflect.defineMetadata(a,i,e,r):Reflect.defineMetadata(a,i,e)})}var Oe={__proto__:[]},Pe=Oe instanceof Array;function B(e){return function(t,r,n){var a=typeof t=="function"?t:t.constructor;a.__decorators__||(a.__decorators__=[]),typeof n!="number"&&(n=void 0),a.__decorators__.push(function(i){return e(i,r,n)})}}function je(e){var t=k(e);return e==null||t!=="object"&&t!=="function"}function Me(e,t){var r=t.prototype._init;t.prototype._init=function(){var i=this,s=Object.getOwnPropertyNames(e);if(e.$options.props)for(var l in e.$options.props)e.hasOwnProperty(l)||s.push(l);s.forEach(function(o){Object.defineProperty(i,o,{get:function(){return e[o]},set:function(R){e[o]=R},configurable:!0})})};var n=new t;t.prototype._init=r;var a={};return Object.keys(n).forEach(function(i){n[i]!==void 0&&(a[i]=n[i])}),a}var W=["data","beforeCreate","created","beforeMount","mounted","beforeDestroy","destroyed","beforeUpdate","updated","activated","deactivated","render","errorCaptured","serverPrefetch"];function U(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};t.name=t.name||e._componentTag||e.name;var r=e.prototype;Object.getOwnPropertyNames(r).forEach(function(l){if(l!=="constructor"){if(W.indexOf(l)>-1){t[l]=r[l];return}var o=Object.getOwnPropertyDescriptor(r,l);o.value!==void 0?typeof o.value=="function"?(t.methods||(t.methods={}))[l]=o.value:(t.mixins||(t.mixins=[])).push({data:function(){return ge({},l,o.value)}}):(o.get||o.set)&&((t.computed||(t.computed={}))[l]={get:o.get,set:o.set})}}),(t.mixins||(t.mixins=[])).push({data:function(){return Me(this,e)}});var n=e.__decorators__;n&&(n.forEach(function(l){return l(t)}),delete e.__decorators__);var a=Object.getPrototypeOf(e.prototype),i=a instanceof w.default?a.constructor:w.default,s=i.extend(t);return xe(s,e,i),Ce()&&Se(s,e),s}var Fe={prototype:!0,arguments:!0,callee:!0,caller:!0};function xe(e,t,r){Object.getOwnPropertyNames(t).forEach(function(n){if(!Fe[n]){var a=Object.getOwnPropertyDescriptor(e,n);if(!(a&&!a.configurable)){var i=Object.getOwnPropertyDescriptor(t,n);if(!Pe){if(n==="cid")return;var s=Object.getOwnPropertyDescriptor(r,n);if(!je(i.value)&&s&&s.value===i.value)return}Object.defineProperty(e,n,i)}}})}function C(e){return typeof e=="function"?U(e):function(t){return U(t,e)}}C.registerHooks=function(t){W.push.apply(W,we(t))};var J=globalThis&&globalThis.__spreadArrays||function(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),a=0,t=0;t<r;t++)for(var i=arguments[t],s=0,l=i.length;s<l;s++,a++)n[a]=i[s];return n},Re=/\B([A-Z])/g,qe=function(e){return e.replace(Re,"-$1").toLowerCase()};function j(e){return function(t,r,n){var a=qe(r),i=n.value;n.value=function(){for(var l=this,o=[],v=0;v<arguments.length;v++)o[v]=arguments[v];var R=function(g){var q=e||a;g===void 0?o.length===0?l.$emit(q):o.length===1?l.$emit(q,o[0]):l.$emit.apply(l,J([q],o)):(o.unshift(g),l.$emit.apply(l,J([q],o)))},P=i.apply(this,o);return Ee(P)?P.then(R):R(P),P}}}function Ee(e){return e instanceof Promise||e&&typeof e.then=="function"}function Le(e){return typeof e!="function"||!e.managed&&!e.managedReactive}function Te(e){var t=function(){var r=this,n=typeof e=="function"?e.call(this):e;n=Object.create(n||null),n[L]=Object.create(this[L]||{});for(var a in t.managed)n[t.managed[a]]=this[a];var i=function(l){n[t.managedReactive[l]]=s[l],Object.defineProperty(n[L],t.managedReactive[l],{enumerable:!0,configurable:!0,get:function(){return r[l]}})},s=this;for(var a in t.managedReactive)i(a);return n};return t.managed={},t.managedReactive={},t}var L="__reactiveInject__";function Ae(e){Array.isArray(e.inject)||(e.inject=e.inject||{},e.inject[L]={from:L,default:{}})}var Ne=typeof Reflect!="undefined"&&typeof Reflect.getMetadata!="undefined";function Z(e,t,r){if(Ne&&!Array.isArray(e)&&typeof e!="function"&&!e.hasOwnProperty("type")&&typeof e.type=="undefined"){var n=Reflect.getMetadata("design:type",t,r);n!==Object&&(e.type=n)}}function Ie(e,t){return t===void 0&&(t={}),function(r,n){Z(t,r,n),B(function(a,i){(a.props||(a.props={}))[i]=t,a.model={prop:i,event:e||i}})(r,n)}}function u(e){return e===void 0&&(e={}),function(t,r){Z(e,t,r),B(function(n,a){(n.props||(n.props={}))[a]=e})(t,r)}}function $(e){return B(function(t,r){var n=t.provide;Ae(t),Le(n)&&(n=t.provide=Te(n)),n.managed[r]=e||r})}function T(e,t){t===void 0&&(t={});var r=t.deep,n=r===void 0?!1:r,a=t.immediate,i=a===void 0?!1:a;return B(function(s,l){typeof s.watch!="object"&&(s.watch=Object.create(null));var o=s.watch;typeof o[e]=="object"&&!Array.isArray(o[e])?o[e]=[o[e]]:typeof o[e]=="undefined"&&(o[e]=[]),o[e].push({handler:l,deep:n,immediate:i})})}var ke=Object.defineProperty,Be=Object.getOwnPropertyDescriptor,m=(e,t,r,n)=>{for(var a=n>1?void 0:n?Be(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(a=(n?s(t,r,a):s(a))||a);return n&&a&&ke(t,r,a),a};let y=class extends w.default{constructor(){super(...arguments),this.styles={},this.timestamp=0}onWidthChange(e,t){e!==t&&this.getStyles(e)}onVisibleChange(e,t){e!==t&&(e?(document.addEventListener("click",this.handleClick,!0),this.styles=c.merge(this.styles,{[this.placement]:"0"}),this.timestamp=Date.now(),this.$emit("open",null)):(document.removeEventListener("click",this.handleClick,!1),this.styles=c.merge(this.styles,{[this.placement]:`-${this.width}${this.unit}`})))}handleClick(e){var n,a,i;if(this.lock)return;let t=(n=this.$refs)==null?void 0:n.drawer;if(!c.compact((a=de(e).path)==null?void 0:a.map(s=>s.className)).includes((i=t==null?void 0:t.className)!=null?i:"")){if(Date.now()-this.timestamp<10)return;this.visible&&this.$emit("close",null)}}getStyles(e){let t=["top","bottom"].includes(this.placement)?"height":"width",r={};["left","right"].includes(this.placement)&&(r.top=`${this.offset}${this.unit}`),this.zIndex&&(r["z-index"]=this.zIndex),this.styles=c.merge({[t]:`${e}${this.unit}`,[this.placement]:`-${e}${this.unit}`},r)}};m([u({default:"right"})],y.prototype,"placement",2),m([u({default:360})],y.prototype,"width",2),m([u({default:!1})],y.prototype,"visible",2),m([u({default:!1})],y.prototype,"lock",2),m([u({default:void 0})],y.prototype,"zIndex",2),m([u({default:"px"})],y.prototype,"unit",2),m([u({default:0})],y.prototype,"offset",2),m([$()],y.prototype,"styles",2),m([$()],y.prototype,"timestamp",2),m([T("width")],y.prototype,"onWidthChange",1),m([T("visible")],y.prototype,"onVisibleChange",1),y=m([C({name:"KlDrawer",created(){this.getStyles(this.width)}})],y);var He=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{ref:"drawer",staticClass:"kl-drawer",class:e.placement,style:e.styles},[e._t("header"),e._t("default"),e._t("footer")],2)},Ke=[],xt="";function M(e,t,r,n,a,i,s,l){var o=typeof e=="function"?e.options:e;t&&(o.render=t,o.staticRenderFns=r,o._compiled=!0),n&&(o.functional=!0),i&&(o._scopeId="data-v-"+i);var v;if(s?(v=function(g){g=g||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,!g&&typeof __VUE_SSR_CONTEXT__!="undefined"&&(g=__VUE_SSR_CONTEXT__),a&&a.call(this,g),g&&g._registeredComponents&&g._registeredComponents.add(s)},o._ssrRegister=v):a&&(v=l?function(){a.call(this,(o.functional?this.parent:this).$root.$options.shadowRoot)}:a),v)if(o.functional){o._injectStyles=v;var R=o.render;o.render=function(q,_e){return v.call(_e),R(q,_e)}}else{var P=o.beforeCreate;o.beforeCreate=P?[].concat(P,v):[v]}return{exports:e,options:o}}const G={};var ze=M(y,He,Ke,!1,We,null,null,null);function We(e){for(let t in G)this[t]=G[t]}var ee=function(){return ze.exports}(),Ye=Object.defineProperty,Ve=Object.getOwnPropertyDescriptor,h=(e,t,r,n)=>{for(var a=n>1?void 0:n?Ve(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(a=(n?s(t,r,a):s(a))||a);return n&&a&&Ye(t,r,a),a};let d=class extends w.default{constructor(){super(...arguments),this.keywords="",this.restaurants=[]}onKeywordsChange(e,t){e!==t&&this.update(e)}onValueChange(e,t){e!==t&&(this.keywords=e)}onDataChange(e,t){e!==t&&(this.restaurants=K.initMaps(e))}update(e){}handleCommand(e){}handleFocus(e){}handleBlur(e){}querySearch(e,t){let r=[];V(this.restaurants,c.trim(e),r),this.filter&&(r=r.filter(N.default(this.filter)));let n=c.assign({value:"name",key:"key",description:"description",maps:"maps"},this.props);t(r.map(pe(n)))}handleClear(){var t;this.keywords="";let e=(t=this.$refs)==null?void 0:t.searchbar;setTimeout(()=>{e.focus()},300)}keyWordsString(e){var r;let t=c.trim(this.keywords);return(r=e.name)==null?void 0:r.replace(new RegExp(`(${t})`,"gi"),"<span class='keywords'>$1</span>")}handleSelect(e){this.handleCommand(e),this.handleClear()}};h([$()],d.prototype,"item",2),h([u({default:"\u641C\u7D22\u5185\u5BB9"})],d.prototype,"placeholder",2),h([u({default:void 0})],d.prototype,"data",2),h([u({default:void 0})],d.prototype,"props",2),h([u({default:void 0})],d.prototype,"filter",2),h([u({default:"searchbar-popper"})],d.prototype,"popperClass",2),h([u({default:"default"})],d.prototype,"size",2),h([$()],d.prototype,"keywords",2),h([$()],d.prototype,"restaurants",2),h([Ie("update")],d.prototype,"value",2),h([T("keywords")],d.prototype,"onKeywordsChange",1),h([T("value")],d.prototype,"onValueChange",1),h([T("data")],d.prototype,"onDataChange",1),h([j("update")],d.prototype,"update",1),h([j("command")],d.prototype,"handleCommand",1),h([j("focus")],d.prototype,"handleFocus",1),h([j("blur")],d.prototype,"handleBlur",1),d=h([C({name:"KlChannelSearchbar",mounted(){var e;this.keywords=this.value,this.restaurants=K.initMaps((e=this.data)!=null?e:[])}})],d);var Qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-autocomplete",{ref:"searchbar",attrs:{size:e.size,"prefix-icon":"el-icon-search","popper-class":e.popperClass,placeholder:e.placeholder,"fetch-suggestions":e.querySearch},on:{focus:e.handleFocus,blur:e.handleBlur,select:e.handleSelect},scopedSlots:e._u([{key:"default",fn:function(n){var a=n.item;return r("div",{},[a.maps?r("div",{staticClass:"name"},e._l(a.maps,function(i,s){return r("fragment",{key:s},[[s>0?r("span",[e._v(" > ")]):e._e(),r("span",{domProps:{innerHTML:e._s(e.keyWordsString(i))}})]],2)}),1):r("div",{staticClass:"name"},[e._v(e._s(a.name))]),a.description?r("span",{staticClass:"description"},[e._v(e._s(a.description))]):e._e()])}}]),model:{value:e.keywords,callback:function(n){e.keywords=n},expression:"keywords"}},[r("i",{directives:[{name:"show",rawName:"v-show",value:e.keywords,expression:"keywords"}],staticClass:"el-icon-error el-input__icon",attrs:{slot:"suffix"},on:{click:e.handleClear},slot:"suffix"})])},Xe=[],Rt="";const te={};var Ue=M(d,Qe,Xe,!1,Je,null,null,null);function Je(e){for(let t in te)this[t]=te[t]}var re=function(){return Ue.exports}(),qt="",Ze=Object.defineProperty,Ge=Object.getOwnPropertyDescriptor,_=(e,t,r,n)=>{for(var a=n>1?void 0:n?Ge(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(a=(n?s(t,r,a):s(a))||a);return n&&a&&Ze(t,r,a),a};let p=class extends w.default{constructor(){super(...arguments),this.times=0,this.values={},this.rules={username:[{required:!0,message:this.usernameMessage}],password:[{required:!0,message:this.passwordMessage}]}}submit(e,t){}handleSubmit(){if(this.times>0){X.Message.warning(O(this.waitMessage,{step:this.times}));return}this.$refs.theForm.validate(t=>{if(t)this.submit(this.values,this.callback);else return!1})}callback(e,t){e?this.sendWait(this.waitStep):this.$refs.theForm.resetFields()}sendWait(e){this.times=e;let t=setInterval(()=>{this.times--,this.times<=0&&(clearTimeout(t),t=null)},1e3)}};_([u({default:!1})],p.prototype,"loading",2),_([u({default:"\u7528\u6237\u540D"})],p.prototype,"usernameLabel",2),_([u({default:"\u7528\u6237\u540D"})],p.prototype,"usernamePlaceholder",2),_([u({default:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"})],p.prototype,"usernameMessage",2),_([u({default:"\u5BC6\u7801"})],p.prototype,"passwordLabel",2),_([u({default:"\u5BC6\u7801"})],p.prototype,"passwordPlaceholder",2),_([u({default:"\u8BF7\u8F93\u5165\u5BC6\u7801"})],p.prototype,"passwordMessage",2),_([u({default:"\u767B \u5F55"})],p.prototype,"submitName",2),_([u({default:"primary"})],p.prototype,"buttonType",2),_([u({default:"\u5176\u4ED6\u65B9\u5F0F"})],p.prototype,"thirdpartyLoginText",2),_([u({default:!1})],p.prototype,"thirdpartyLogin",2),_([u({default:!1})],p.prototype,"qrcodeLogin",2),_([u({default:5})],p.prototype,"waitStep",2),_([u({default:"\u8BF7\u5728 {{step}} \u79D2\u540E\u518D\u505A\u63D0\u4EA4"})],p.prototype,"waitMessage",2),_([$()],p.prototype,"times",2),_([$()],p.prototype,"values",2),_([$()],p.prototype,"rules",2),_([j("submit")],p.prototype,"submit",1),p=_([C({name:"KlLoginForm"})],p);var et=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"landing-body",style:e.qrcodeLogin?"padding: 40px 0 60px 0":""},[e.qrcodeLogin?[r("div",{staticClass:"protocol"},[e._t("protocol")],2),r("div",{staticClass:"qr-method"},[e._t("qrcode")],2)]:e._e(),r("div",{staticClass:"wrapper"},[r("el-form",{ref:"theForm",attrs:{model:e.values,rules:e.rules,"label-position":"top","hide-required-asterisk":""},nativeOn:{submit:function(n){return n.preventDefault(),e.handleSubmit.apply(null,arguments)}}},[r("el-form-item",{staticClass:"h-96px",attrs:{prop:"username",rules:e.rules.username,label:e.usernameLabel}},[r("el-input",{attrs:{placeholder:e.usernamePlaceholder},model:{value:e.values.username,callback:function(n){e.$set(e.values,"username",n)},expression:"values.username"}})],1),r("el-form-item",{staticClass:"h-96px",attrs:{prop:"password",rules:e.rules.password,label:e.passwordLabel}},[r("el-input",{attrs:{type:"password",placeholder:e.passwordPlaceholder},model:{value:e.values.password,callback:function(n){e.$set(e.values,"password",n)},expression:"values.password"}})],1),r("el-form-item",[r("el-button",{attrs:{type:e.buttonType,"native-type":"submit",loading:e.loading}},[e._v(e._s(e.submitName))]),r("p",{staticClass:"service-terms"},[e._t("service-terms")],2)],1)],1),e.thirdpartyLogin?r("div",{staticClass:"third-party-login-wrap"},[r("div",{staticClass:"third-party-login-text"},[e._v(e._s(e.thirdpartyLoginText))]),r("div",{staticClass:"third-party-login"},[e._t("third-party-login")],2)]):e._e()],1)],2)},tt=[],Et="";const ne={};var rt=M(p,et,tt,!1,nt,null,null,null);function nt(e){for(let t in ne)this[t]=ne[t]}var ae=function(){return rt.exports}(),at=Object.defineProperty,it=Object.getOwnPropertyDescriptor,ie=(e,t,r,n)=>{for(var a=n>1?void 0:n?it(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(a=(n?s(t,r,a):s(a))||a);return n&&a&&at(t,r,a),a};let H=class extends w.default{};ie([u({default:void 0})],H.prototype,"title",2),H=ie([C({name:"KlQrcode"})],H);var st=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"next-loading-wrap"},[e.title?r("div",{staticClass:"qrlogin-title"},[e._v(e._s(e.title))]):e._e(),r("div",{staticClass:"qrcode-wrap"},[e._t("default")],2),r("div",{staticClass:"qrcode-text"},[e._t("description")],2)])},ot=[],Lt="";const se={};var lt=M(H,st,ot,!1,ut,null,null,null);function ut(e){for(let t in se)this[t]=se[t]}var oe=function(){return lt.exports}(),ft=Object.defineProperty,ct=Object.getOwnPropertyDescriptor,F=(e,t,r,n)=>{for(var a=n>1?void 0:n?ct(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(a=(n?s(t,r,a):s(a))||a);return n&&a&&ft(t,r,a),a};let D=class extends w.default{getag(e,t){let[r,n]=e.split("_");return c.get({label:r,type:n},t)}};F([u({default:""})],D.prototype,"name",2),F([u({default:""})],D.prototype,"icon",2),F([u({default:void 0})],D.prototype,"children",2),F([u({default:""})],D.prototype,"index",2),F([u({default:""})],D.prototype,"tag",2),D=F([C({name:"KlSidebarItem",components:{}})],D);var pt=function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return((e=t.children)===null||e===void 0?void 0:e.length)>0?n("el-submenu",{attrs:{index:t.index}},[n("template",{slot:"title"},[t.icon?n("i",{class:t.icon}):t._e(),t._v(" "+t._s(t.name)+" ")]),t._l(t.children,function(a,i){var s;return[a?n("kl-sidebar-item",{key:i,attrs:{name:a.name,icon:a.icon,index:(s=a.route)!==null&&s!==void 0?s:a.key,children:a.children,tag:a.tag}}):t._e()]})],2):n("el-menu-item",{attrs:{index:t.index}},[t.icon?n("i",{class:t.icon}):t._e(),t._v(" "+t._s(t.name)+" "),t.tag?n("el-tag",{staticClass:"kl-sidebar-item_tag",attrs:{type:t.getag(t.tag,"type"),effect:"dark"}},[t._v(t._s(t.getag(t.tag,"label")))]):t._e()],1)},dt=[],Tt="";const le={};var _t=M(D,pt,dt,!1,ht,null,null,null);function ht(e){for(let t in le)this[t]=le[t]}var Y=function(){return _t.exports}(),vt=Object.defineProperty,yt=Object.getOwnPropertyDescriptor,S=(e,t,r,n)=>{for(var a=n>1?void 0:n?yt(t,r):t,i=e.length-1,s;i>=0;i--)(s=e[i])&&(a=(n?s(t,r,a):s(a))||a);return n&&a&&vt(t,r,a),a};let b=class extends w.default{handleSelect(e){}};S([u({default:""})],b.prototype,"defaultActive",2),S([u({default:!1})],b.prototype,"collapse",2),S([u({default:!1})],b.prototype,"uniqueOpened",2),S([u({default:!1})],b.prototype,"router",2),S([u({default:void 0})],b.prototype,"data",2),S([j("select")],b.prototype,"handleSelect",1),b=S([C({name:"KlSidebar",components:{SidebarItem:Y}})],b);var mt=function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"kl-sidebar"},[t.$slots.header?n("div",{staticClass:"header"},[t._t("header")],2):t._e(),n("perfect-scrollbar",{staticStyle:{flex:"1"},attrs:{options:{suppressScrollX:!0}}},[n("el-menu",{attrs:{mode:"vertical","default-active":t.defaultActive,collapse:t.collapse,"unique-opened":t.uniqueOpened,router:t.router},on:{select:t.handleSelect}},t._l((e=t.data)!==null&&e!==void 0?e:[],function(a,i){var s;return n("sidebar-item",{key:i,attrs:{name:a.name,icon:a.icon,children:a.children,index:(s=a.route)!==null&&s!==void 0?s:a.key,tag:a.tag}})}),1)],1),t.$slots.footer?n("div",{staticClass:"footer"},[t._t("footer")],2):t._e()],1)},gt=[],At="";const ue={};var wt=M(b,mt,gt,!1,bt,null,null,null);function bt(e){for(let t in ue)this[t]=ue[t]}var fe=function(){return wt.exports}(),$t=Object.freeze(Object.defineProperty({__proto__:null,Drawer:ee,ChannelSearchbar:re,LoginForm:ae,Qrcode:oe,Sidebar:fe,SidebarItem:Y},Symbol.toStringTag,{value:"Module"}));function ce(e,t){if(!e)return null;let r=c.compact(["dialog","action","command","router","https?",t]).join("|"),n=new RegExp(`^(${r})\\:(\\S+)$`),a=e.match(n);if(!a)return null;let[,i,s]=a;return/^(https?)/.test(i)?{type:"http",path:e}:{type:i,path:s}}function Dt(e,t){return(r,n,a)=>{let i=ce(r);if(!!i){if(i.type==="command"){let[s,...l]=i.path.split("|"),o=c.get(t!=null?t:e,s);c.isFunction(o)&&o(...l)}else if(i.type==="action")t!=null&&t.action&&(t==null||t.action(i.path,n,a,e));else if(i.type==="dialog")t!=null&&t.dialog&&(t==null||t.dialog(i.path,n,a,e));else if(i.type==="router"){if(!(e!=null&&e.$router))return;e.$router.push(i.path)}else if(i.type==="http"){if(!document)return;let s=document.createElement("a"),[l,o]=i.path.split("|");s.href=l,o&&(s.target=o),s.click()}}}}function V(e,t,r=[]){if(!t)return;let n=c.map(r,"key"),a={$or:[{name:{$regex:new RegExp(t,"i")}},{keywords:{$_in:[t.toLocaleLowerCase()]}}]},i=K.dataNodeProxy(e).find({$and:[{key:{$nin:n}},a,{children:{$exists:!1}}]});i&&(r.push(i),V(e,t,r))}function Ct(e){return(t,r)=>{if(!t)return!1;let n=t,a=c.assign({},e,r);return c.isString(t)&&(n=I.default.safeLoad(O(t,a)),!c.isPlainObject(n))?!1:c.isBoolean(n)?n:N.default(n)(a)}}function St(e){return(t,r)=>{if(!t)return!0;let n=t,a=c.assign({},e,r);return c.isString(t)&&(n=I.default.safeLoad(O(t,a)),!c.isPlainObject(n))?!0:N.default(n)(a)}}function Ot(e,t={}){if(!e)return n=>!0;let r=e;return c.isString(e)&&(r=I.default.safeLoad(O(e,{...t}))),c.isPlainObject(r)?N.default(r):n=>!0}function Pt(e,t={}){if(!e)return null;let r=e;return c.isString(e)&&(r=I.default.safeLoad(O(e,{...t}))),c.isPlainObject(r)?r:null}function O(e,t,r){let n=new me.default.Environment(null,c.merge({autoescape:!1},r));return n.addFilter(x.name,a=>String(x(a))),n.addFilter(Q.name,a=>String.raw`${Q(a,t)}`),n.renderString(e,t)}function x(e,t){if(c.isDate(e))return e;if(/(\_)/.test(e)){let i=e.split(/\_/),s=null;for(let l of i){if(s&&!/(day?(s|e)|week?(s|e))$/.test(l))break;s=x(l,s)}return s}let r=jt(e),n=t!=null?t:new Date,a=n.getDay()-1;if(e==="now")return new Date;if(["yesterday","today","tomorrow"].includes(e)){let i=["yesterday","today","tomorrow"].indexOf(e)-1;return x([i,"days"].join(" "))}else{if(/(day)$/.test(e))return new Date(n.setDate(n.getDate()+r));if(/(days)$/.test(e))return new Date(new Date(n.setDate(n.getDate()+r)).setHours(0,0,0,0));if(/(daye)$/.test(e))return new Date(new Date(n.setDate(n.getDate()+r)).setHours(23,59,59,999));if(/(week)$/.test(e)){let i=new Date(n.getFullYear(),n.getMonth(),n.getDate()-a+r*7+a).setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds());return new Date(i)}else{if(/(weeks)$/.test(e))return new Date(n.getFullYear(),n.getMonth(),n.getDate()-a+r*7+0);if(/(weeke)$/.test(e)){let i=new Date(n.getFullYear(),n.getMonth(),n.getDate()-a+r*7+6).setHours(23,59,59,999);return new Date(i)}else{if(/(month)$/.test(e))return new Date(new Date(new Date().setMonth(r)));if(/(months)$/.test(e))return new Date(new Date(new Date().setMonth(r,1)).setHours(0,0,0,0));if(/(monthe)$/.test(e)){let i=r-new Date().getMonth()+1;return new Date(x(`${i} months`).getTime()-1)}else{if(/(year)$/.test(e))return new Date(new Date().setFullYear(r));if(/(years)$/.test(e))return new Date(new Date(new Date().setFullYear(r,0,1)).setHours(0,0,0,0));if(/(yeare)$/.test(e))return new Date(new Date(new Date().setFullYear(r,11,31)).setHours(23,59,59,999))}}}}return null}function Q(e,t){return c.get(t,e,"").split(`
`).join(`

`).replace(/\"/g,'\\"')}function pe(e){return t=>{if(!e)return t;let r=t,n=[];for(let[a,i]of Object.entries(e))r[a]=/(\{)/.test(i)?O(i,t):c.get(t,i),a!==i&&n.push(i);return c.omit(r,n)}}function jt(e){var i,s;let[t]=e.split(/\s+/),[r]=(i=e.match(/(year|month|day|week)/))!=null?i:[],n={day:0,month:new Date().getMonth(),year:new Date().getFullYear()},a=(s=n==null?void 0:n[r])!=null?s:0;return/(\d+){4}/.test(t)?a=Number(t):c.isNaN(Number(t))||(a+=Number(t)),a}function de(e){if(e.path)return e;let t=e.target;for(e.path=[];t.parentNode!==null;)e.path.push(t),t=t.parentNode;return e.path.push(document,window),e}w.default.prototype.$message=X.Message;const Mt={install:e=>{for(let[,t]of Object.entries($t))e.component(`${t.name}`,t)}};f.ChannelSearchbar=re,f.Drawer=ee,f.LoginForm=ae,f.Plugin=Mt,f.Qrcode=oe,f.Sidebar=fe,f.SidebarItem=Y,f.filterChannelDataNode=V,f.getConditions=Pt,f.getFilter=Ot,f.isDisabled=Ct,f.isFilter=St,f.parseCommand=ce,f.parseContent=Q,f.parseDate=x,f.parseMouseEvent=de,f.parseProps=pe,f.parseTemplate=O,f.runCommand=Dt,Object.defineProperties(f,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}})});
